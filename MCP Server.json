{"createdAt":"2025-05-06T20:53:22.100Z","updatedAt":"2025-07-28T19:37:25.859Z","id":"ThYUAI6DaYIlnNoQ","name":"MCP Server","active":true,"isArchived":false,"nodes":[{"parameters":{"path":"recarga"},"type":"@n8n/n8n-nodes-langchain.mcpTrigger","typeVersion":1,"position":[-416,-368],"id":"af508775-7e74-45b8-b221-57f19b8f9dea","name":"MCP Server Trigger","webhookId":"85c19a1c-ab94-4d54-9d70-a19bcb5b6c94"},{"parameters":{"description":"deixe as letras em maiusculo","language":"python"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.2,"position":[-384,-16],"id":"95206b59-88cd-4268-8fd2-eed5b73d0ab2","name":"To Upper","disabled":true},{"parameters":{"description":"deixe as letras em minusculo","jsCode":"// Example: convert the incoming query to uppercase and return it\nreturn query.toLowerCase()"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.2,"position":[-208,-16],"id":"0612a386-7b39-4719-99a3-c9c8160fb4f3","name":"To Lower","disabled":true},{"parameters":{"description":"Chame essa ferramenta quando solicitar recarga. Todos os campos terão que ser preenchidos para rodar a ferramenta.","workflowId":{"__rl":true,"value":"PMTO3fmz8NsNka7v","mode":"list","cachedResultName":"Recarga"},"workflowInputs":{"mappingMode":"defineBelow","value":{"valorRecarga":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('valorRecarga', ``, 'string') }}","cartao":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('cartao', ``, 'string') }}","whatsapp":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('whatsapp', ``, 'string') }}"},"matchingColumns":[],"schema":[{"id":"valorRecarga","displayName":"valorRecarga","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"cartao","displayName":"cartao","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"whatsapp","displayName":"whatsapp","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.2,"position":[80,-48],"id":"8259e8e9-664a-4194-872a-c3c9c9d7b647","name":"Tool Recarga"},{"parameters":{"description":"Chamar sempre ao iniciar, o response é o token cognito que é trafegado entre as chamadas. Nunca ele poderá ser enviado como retorno dos LLMs.\nNunca citar o termo cognito, jwt e token.\n\npasse o session ID para esse flow","workflowId":{"__rl":true,"value":"atEJEMXlI4JUZmoK","mode":"list","cachedResultName":"JWT"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.2,"position":[272,-256],"id":"d99108d4-e0af-4d36-a4c2-7f6c72e6c7f0","name":"Tool JWT","disabled":true},{"parameters":{"description":"Chamar sempre ao iniciar, o response é o token cognito que é trafegado entre as chamadas. Nunca ele poderá ser enviado como retorno dos LLMs.\nNunca citar o termo cognito e token.\n\npasse o session ID para esse flow","workflowId":{"__rl":true,"value":"DYKMTVuYSCHogX7l","mode":"list","cachedResultName":"Cognito"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.2,"position":[256,-448],"id":"a02c0ec9-d6f3-4143-9793-287745a372ac","name":"Tool Cognito"},{"parameters":{"description":"Obtem os dados do cartão pelo numero do Whatsapp","workflowId":{"__rl":true,"value":"ouxNK0IdZdDGgk3y","mode":"list","cachedResultName":"Dados Cartao"},"workflowInputs":{"mappingMode":"defineBelow","value":{"whatsapp":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('whatsapp', ``, 'string') }}","tokenCognito":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('tokenCognito', ``, 'string') }}"},"matchingColumns":[],"schema":[{"id":"whatsapp","displayName":"whatsapp","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"tokenCognito","displayName":"tokenCognito","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.2,"position":[208,-96],"id":"8c748321-da9b-421a-9973-2249ed88e538","name":"Tool Number Whatsapp"},{"parameters":{"description":"Tool para cancelar cartão, onde receberá o numero do whatsapp e caso ocorra um erro, retorne a mensagem traduzida. ","workflowId":{"__rl":true,"value":"V7gh2zGRf6KlLkhE","mode":"list","cachedResultName":"Tool - Cancelar Cartão"},"workflowInputs":{"mappingMode":"defineBelow","value":{"whatsapp":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('whatsapp', ``, 'string') }}","documento":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('documento', ``, 'string') }}","dataNascimento":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('dataNascimento', ``, 'string') }}","cartao":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('cartao', ``, 'string') }}"},"matchingColumns":[],"schema":[{"id":"whatsapp","displayName":"whatsapp","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"documento","displayName":"documento","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"dataNascimento","displayName":"dataNascimento","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"cartao","displayName":"cartao","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.2,"position":[-64,-16],"id":"0b63f145-a679-473c-b3ab-d4771c1a30c3","name":"Call  Cancelar Cartao"}],"connections":{"To Upper":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"To Lower":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Tool Recarga":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Tool JWT":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Tool Cognito":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Tool Number Whatsapp":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Call  Cancelar Cartao":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"ad7bbe74-f9e5-4710-9171-82bebd50e57a","triggerCount":1,"tags":[]}